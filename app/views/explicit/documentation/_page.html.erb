<!DOCTYPE html>
<html>
<head>
  <title><%= local_assigns[:page_title] || "API Documentation" %></title>

  <style>
    html, body {
      font-family: sans-serif;
      font-size: 14px;
      margin: 0;
      padding: 0;

      --color-neutral-50: #fafafa;
      --color-neutral-100: #f5f5f5;
      --color-neutral-200: #e5e5e5;
      --color-neutral-300: #d4d4d8;
      --color-neutral-400: #a3a3a3;
      --color-neutral-500: #737373;
      --color-neutral-600: #525252;
    }

    .container {
      display: flex;
    }

    .navigation {
      background-color: var(--color-neutral-100);
      border-right: 1px solid var(--color-neutral-300);
      width: 380px;
      height: 100vh;
    }
    .navigation__section {
    }
    .navigation__section__page {
      display: block;
    }

    .main {
      flex-grow: 1;
      width: 100%;
      height: 100vh;
      overflow: auto;
    }

    .page {
      padding: 0 2rem;
      margin-bottom: 100px;
    }
    .page:not(:first-of-type) {
      border-top: 1px solid var(--color-neutral-200);
    }
    .page__container {
      display: flex;
      gap: 1rem;
    }
    .page__request {
      width: 50%;
    }
    .page__request__description {
      line-height: 1.6rem;
    }
    .page__response {
      width: 50%;
    }

    .markdown code {
      background: var(--color-neutral-100);
      color: var(--color-neutral-900);
    }
    .markdown p:first-of-type {
      margin-block-start: 0em;
    }
    .markdown p:last-of-type {
      margin-block-end: 0em;
    }

    .params {
      margin-top: 1rem;
      border: 1px solid var(--color-neutral-200);
      border-radius: 8px;
      overflow: hidden;
    }
    .params__param {
      padding: 0.8rem;
    }
    .params__param:not(:last-of-type) {
      border-bottom: 1px solid var(--color-neutral-200);
    }
    .params__summary {
      display: flex;
      align-items: end;
      gap: 1rem;
    }
    .params__summary__expand {
      margin-left: auto;
      color: var(--color-neutral-400);
    }
    .params__name {
      font-family: monospace;
      font-weight: bold;
    }
    .params__jsontype {
      font-size: 12px;
      color: var(--color-neutral-500);
    }
    .params__description {
      margin-top: 0.5rem;
      color: var(--color-neutral-500);
    }
    .params__constraint {
      font-size: 12px;
      background: var(--color-neutral-200);
      padding: 1px 4px;
      border-radius: 1px;
    }
    .params__subtype {
      margin-top: 0.5rem;
    }
  </style>

  <script src="//unpkg.com/alpinejs" defer></script>
</head>

<body>
  <div class="container">
    <section class="navigation">
      <% sections.each do |section| %>
        <details class="navigation__section" open>
          <summary><%= section.name %></summary>

          <% section.pages.each do |page| %>
            <%= link_to page.title, "##{page.anchor}", class: "navigation__section__page" %>
          <% end %>
        </details>
      <% end %>
    </section>

    <main class="main">
      <% sections.each do |section| %>
        <% section.pages.each do |page| %>
          <div class="page">
            <%= render partial: page.partial, locals: { page: } %>
          </div>
        <% end %>
      <% end %>
    </main>
  </div>
</body>
</html>
